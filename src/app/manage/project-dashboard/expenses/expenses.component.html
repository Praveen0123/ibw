<div class="col-sm-12 margin-bottom-8">
    <div class="col-sm-2 no-padding">
        <!-- <button mat-raised-button class="add-hover btn-success" [disabled]="allowAssign" (click)="showEstimateModal()">
          <mat-icon>done_all</mat-icon> Assign to Invoice
      </button> -->
    </div>

    <div class="pills">
        <button mat-raised-button style="margin-left: 10px;" class="pull-right add-hover btn-success" (click)="showChildModal()">
            <mat-icon>add</mat-icon> Add Expense
        </button>
        <button mat-raised-button class="pull-right btn-primary" style="color:white; background:#3b7bb8">
            <mat-icon>view_column</mat-icon> Grid Columns
        </button>
        <!-- (click)="opengridColDialog(null)" -->
    </div>
    <div style="padding-right: 0px!important;">
        <button mat-raised-button color="primary" style="min-width: 110px;background-color: #e0e0e0;
                color: black;" class="pull-right filters-hover margin-right-10" (click)="scrollActions('left');">
            Next
            <mat-icon>skip_next</mat-icon>
        </button>
        <button mat-raised-button color="primary" class="pull-right filters-hover margin-right-10" style="background-color: #e0e0e0;
                color: black;" (click)="scrollActions('right');">
            <mat-icon>skip_previous</mat-icon> Previous
        </button>
        <button mat-raised-button color="primary" class="pull-right filter-hover margin-right-10" (click)="filterToggle = !filterToggle">
            <mat-icon>filter_list</mat-icon> Filter
        </button>
    </div>
</div>

<div *ngIf="filterToggle" class="col-sm-12" style="margin-top: 8px; margin-bottom:8px;">
    <mat-card class="filter">
        <mat-card-content>
            <div class="row col-sm-12">
                <div class="col-sm-4">
                    <div class="col-sm-4">Site</div>
                    <div class="col-sm-8">
                        <mat-select class='select-option form-control' placeholder="--Search by Site--">
                            <mat-option [value]="1">71 Mearns Ct</mat-option>
                            <mat-option [value]="2">20 Mearns Ct</mat-option>
                        </mat-select>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="col-sm-4">SOW</div>
                    <div class="col-sm-8">
                        <mat-select class='select-option form-control' placeholder="--Search by SOW--">
                            <mat-option [value]="1">Reference Plan</mat-option>
                            <mat-option [value]="2">Topographic</mat-option>
                            <mat-option [value]="3">SRPR</mat-option>
                        </mat-select>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="col-sm-4">Task</div>
                    <div class="col-sm-8">
                        <mat-select class='select-option form-control' placeholder="--Search by Task--">
                            <mat-option [value]="1">3D Scanning</mat-option>
                            <mat-option [value]="2">Research</mat-option>
                            <mat-option [value]="3">Calculations</mat-option>
                        </mat-select>
                    </div>
                </div>

            </div>

            <div class="row col-sm-12" style="margin-top:20px">
                <div class="col-sm-4">
                    <div class="col-sm-4">Keyword</div>
                    <div class="col-sm-8">
                        <input class="form-control" placeholder="Enter keyword" type="text">
                    </div>
                </div>
                <div class="col-sm-4">
                    
                </div>
                <div class="col-sm-4">
                    <a (click)="filterToggle = !filterToggle" class="pull-right" style="font-size: 25px;">
                        <i class="fa fa-angle-double-up" aria-hidden="true"></i>
                    </a>
                    <button mat-raised-button class="pull-right btn-success-gray" style="margin-left: 10px;margin-right: 8px;">
                        <mat-icon>settings_backup_restore</mat-icon> Reset
                    </button>
                    <!-- <button mat-raised-button class="pull-right add-hover btn-success">
                            <mat-icon>cloud_download</mat-icon> Download CSV
                        </button> -->
                    <button mat-raised-button color="primary" class="pull-right filters-hover">
                        <mat-icon>youtube_searched_for</mat-icon> Search
                    </button>
                </div>

            </div>

        </mat-card-content>
    </mat-card>
</div>


<div class="col-sm-12">
    <div class="table-responsive w-100 flex-p" id="expenseTable">
        <table id="example2" class="table table-bordered table-hover">
            <thead class="tbl-head">
                <tr class="tr-grid-header">
                    <!-- <th class="text-center"> <mat-checkbox (change)="funSelectAll($event.checked)" style="background: #e0e0e0 !important" color='warn'></mat-checkbox></th> -->
                    <th style="min-width: 80px;">Status</th>
                    <th style="min-width: 120px;">Claimed By</th>
                    <th style="min-width: 120px;">Job Title</th>
                    <th style="min-width: 135px;">Expense Subject</th>
                    <th style="min-width: 120px;">Expense Code</th>
                    <th style="min-width: 135px;">Expense Type </th>
                    <th style="min-width: 130px;" class="text-center">Expense Amount</th>
                    <th style="min-width: 120px;">Expense Date </th>
                    <th style="min-width: 120px;">Claimed Date</th>
                    <th style="min-width: 120px;">Action</th>
                    <th style="min-width: 120px;">Task</th>
                    <th style="min-width: 120px;">SOW</th>
                    <th style="min-width: 120px;">Site</th>
                    <th style="min-width: 80px;" class="text-center">Manage</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of ExpensesData">
                    <!-- <td *ngIf="item.status == 'Approved'"><mat-checkbox color="warn" (change)="funSelect($event.checked)" [(ngModel)]="checked"></mat-checkbox></td> -->
                    <!-- <td *ngIf="item.status != 'Approved'"><mat-checkbox [disabled]="true"></mat-checkbox></td> -->
                    <td>
                        <a [ngClass]="{blue : item.status == 'Pending', green: item.status == 'Approved'}">{{item.status}}</a>
                    </td>
                    <td>{{item.claimedBy}}</td>
                    <td>{{item.jobTitle}}</td>
                    <td>{{item.expSub}}</td>
                    <td>{{item.expCode}}</td>
                    <td>{{item.expType}}</td>
                    <td class="text-center">{{item.expAmount | currency : 'USD'}}</td>
                    <td>{{item.expDate}}</td>
                    <td>{{item.claimedDate}}</td>
                    <td>{{item.action}}</td>
                    <td>{{item.task}}</td>
                    <td>{{item.sow}}</td>
                    <td>{{item.site}}</td>
                    <td class="text-center">
                        <a matTooltip="Edit Details" style="margin-right: 10px; cursor: pointer;font-size:16px!important;color:#0987e8d1">
                            <i class="fa fa-edit"></i>
                        </a>
                        <a>
                            <i style="cursor: pointer;font-size:16px!important;" matTooltip="Delete" class="fa fa-trash red"></i>
                        </a>
                    </td>

                </tr>
            </tbody>
        </table>
    </div>
</div>



<div bsModal #addSowModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-child-name">

    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <h4 id="dialog-child-name" class="modal-title pull-left">
                    <b>Add Expense</b>
                </h4>
                <button type="button" class="close pull-right" aria-label="Close" (click)="hideChildModal()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">

                <form>
                    <div class="form-group col-sm-12">
                        <label class="col-sm-6 control-label add-member-label">Expense Subject: </label>
                        <div class="col-sm-6">
                            <input class="form-control" placeholder="Enter Expense Subject" type="text">
                        </div>
                    </div>
                    <div class="form-group col-sm-12">
                        <label class="col-sm-6 control-label add-member-label">Select Expense Code: </label>
                        <div class="col-sm-6">
                            <mat-select placeholder="--Select Expense Code--" class="form-control">
                                <mat-option *ngFor="let option of ExpenseCodes" [value]="option">{{option}}</mat-option>
                            </mat-select>
                        </div>
                    </div>
                    <div class="form-group col-sm-12">
                        <label class="col-sm-6 control-label add-member-label">Select Expense Type: </label>
                        <div class="col-sm-6">
                            <mat-select placeholder="--Select Expense Type--" class="form-control">
                                <mat-option *ngFor="let option of ExpenseTypes" [value]="option">{{option}}</mat-option>
                            </mat-select>
                        </div>
                    </div>
                    <div class="form-group col-sm-12">
                        <label class="col-sm-6 control-label add-member-label">Select Expense Date: </label>
                        <div class="col-sm-6">
                            <input type="date" class="form-control" id="price" placeholder="Enter Expense Date">
                        </div>
                    </div>
                    <div class="form-group col-sm-12">
                        <label class="col-sm-6 control-label add-member-label">Enter Expense Amount: </label>
                        <div class="col-sm-6">
                            <input type="number" class="form-control" id="price" placeholder="Enter Expense Amount">
                        </div>
                    </div>
                    <div class="form-group col-sm-12">
                        <label class="col-sm-6 control-label">Select Site: </label>
                        <div class="col-sm-6">
                            <mat-select placeholder="--Select Site--" class="form-control">
                                <mat-option *ngFor="let option of Sites" [value]="option">{{option}}</mat-option>
                            </mat-select>
                        </div>
                    </div>
                    <div class="form-group col-sm-12">
                        <label class="col-sm-6 control-label">Select SOW Name: </label>
                        <div class="col-sm-6">
                            <mat-select placeholder="--Select SOW Name--" class="form-control">
                                <mat-option *ngFor="let option of SOWs" [value]="option">{{option}}</mat-option>
                            </mat-select>
                        </div>
                    </div>
                    <div class="form-group col-sm-12">
                        <label class="col-sm-6 control-label">Select Task: </label>
                        <div class="col-sm-6">
                            <mat-select placeholder="--Select Task--" class="form-control">
                                <mat-option *ngFor="let option of Tasks" [value]="option">{{option}}</mat-option>
                            </mat-select>
                        </div>
                    </div>
                    <div class="form-group col-sm-12">
                        <label class="col-sm-6 control-label">Select Action: </label>
                        <div class="col-sm-6">
                            <mat-select placeholder="--Select Action--" class="form-control">
                                <mat-option *ngFor="let option of Actions" [value]="option">{{option}}</mat-option>
                            </mat-select>
                        </div>
                    </div>

                </form>



            </div>
            <mat-dialog-actions align="end" style="margin: 0px 20px 20px 0px;">
                <button mat-raised-button class="add-dark-hover btn-default" (click)="hideChildModal()">Cancel</button>
                <button mat-raised-button style="margin-left: 5px;margin-right: 20px;" class="btn-success" (click)="hideChildModal()">Save</button>
            </mat-dialog-actions>
        </div>
    </div>
</div>

<div bsModal #assignEstimateModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-child-name">

    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <h4 id="dialog-child-name" class="modal-title pull-left">
                    <b>Assign to Invoice</b>
                </h4>
                <button type="button" class="close pull-right" aria-label="Close" (click)="hideEstimateModal()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="form-group col-sm-12">
                    <label class="col-sm-4 control-label col-sm-4 add-member-label">Invoice Type: </label>
                    <div class="col-sm-8">
                        <mat-radio-group aria-label="Select an option" [(ngModel)]="InvoiceType" (change)="fnInvoiceType($event.value)">
                            <mat-radio-button value="new" color="warn" style="margin-right: 12px;">New</mat-radio-button>
                            <mat-radio-button value="existing" color="warn">Existing</mat-radio-button>
                        </mat-radio-group>
                    </div>
                </div>
                <div class="form-group col-sm-12" *ngIf="isNew">
                    <label class="col-sm-4 control-label col-sm-4 add-member-label">Invoice Ref Number: </label>
                    <div class="col-sm-8">
                        <input type="text" class="form-control" id="price" placeholder="Enter Ref Number">
                    </div>
                </div>
                <div class="form-group col-sm-12" *ngIf="!isNew">
                    <label class="col-sm-4 control-label col-sm-4 add-member-label">Select Invoice</label>
                    <div class="col-sm-8">
                        <mat-select placeholder="--Select Invoice--" class="form-control">
                            <mat-option [value]="option1">INV 1</mat-option>
                            <mat-option [value]="option2">INV 2</mat-option>
                            <mat-option [value]="option3">INV 3</mat-option>
                            <mat-option [value]="option4">INV 4</mat-option>

                        </mat-select>
                    </div>
                </div>




            </div>
            <mat-dialog-actions align="end" style="margin: 0px 20px 20px 0px;">
                <button mat-raised-button class="add-dark-hover btn-default" (click)="hideEstimateModal()">Cancel</button>
                <button mat-raised-button style="margin-left: 5px;margin-right: 20px;" class="btn-success" (click)="hideEstimateModal()">Assign</button>
            </mat-dialog-actions>
        </div>
    </div>
</div>