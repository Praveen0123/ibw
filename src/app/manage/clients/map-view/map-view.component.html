<div fxLayout="row wrap">
    <div class="w-100">
        <div class="flex-p">
            <div class="row wrap margin-top-10">
                <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3">
                    <div class="pills w-100">
                        <ul class="nav nav-pills ">
                            <li routerLinkActive="active">
                                <a (click)="isGridView = true" mat-raised-button routerLink="/IBW/manage/clients/gridview">
                                    <mat-icon>grid_on</mat-icon> Grid View
                                </a>
                            </li>
                            <li routerLinkActive="active">
                                <a (click)="isGridView = false" mat-raised-button routerLink="/IBW/manage/clients/mapview">
                                    <mat-icon>place</mat-icon> Map View
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-xs-9" style="margin-right:0px !important">
                    <div class="w-100">
                        <a (click)="openHelpVideo(null)" mat-raised-button class="pull-right add-hover-help btn-success-help" style="margin-left: 10px;">
                            <mat-icon>help_outline</mat-icon> Help
                        </a>
                        <button *ngIf="isGridView" (click)="opengridColDialog(null)" mat-raised-button class="pull-right btn-primary" style="margin-left: 10px;color:white; background:#3b7bb8">
                            <mat-icon>view_column</mat-icon> Grid Columns
                        </button>
                        <button mat-raised-button class="pull-right add-hover btn-success" (click)="openleadDialog(null)">
                            <mat-icon>add</mat-icon> Add Client
                        </button>
                        <button mat-raised-button color="primary" class="pull-right filters-hover margin-right-10" (click)="filterToggle = !filterToggle">
                            <mat-icon>filter_list</mat-icon> Filter
                        </button>
                        <button *ngIf="isGridView" mat-raised-button color="primary" style="min-width: 110px;" class="pull-right filters-hover margin-right-10">
                            Next<mat-icon>skip_next</mat-icon>
                        </button>
                        <button *ngIf="isGridView" mat-raised-button color="primary" class="pull-right filters-hover margin-right-10">
                            <mat-icon>skip_previous</mat-icon> Previous
                        </button>
                       
                    </div>
                </div>

            </div>
        </div>
        <div class="row ">
            <div class="col-xs-6">
            </div>
        </div>

        <form [formGroup]="filterForm" (ngSubmit)="filterBy(filterForm.value)">
        <div fxLayout="row wrap" *ngIf="filterToggle">
            <div fxFlex="100" fxFlex.gt-sm fxFlex.sm class="flex-p w-100">
                <mat-card class="filter">
                    <mat-card-content>
                        <div class="row col-sm-12">
                            <div class="col-sm-4">
                                <div class="col-sm-4 padtop">Client Type</div>
                                <div class="col-sm-8">
                                    <mat-select placeholder="--Select Client Type--" class="form-control" formControlName="clientTypeID" required>
                                        <mat-option *ngFor="let option of clientTypes" [value]="option.clientTypeId">{{option.clientTypeName}}</mat-option>
                                    </mat-select>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="col-sm-4 padtop">Municipality</div>
                                <div class="col-sm-8">
                                    <mat-select class='select-option form-control' formControlName="clientMuncipalityID" placeholder="--Search by Municipality--">
                                        <mat-option *ngFor="let option of muncipalities" [value]="option.muncipalityId">{{option.muncipalityName}}</mat-option>
                                    </mat-select>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="col-sm-4 padtop">Status</div>
                                <div class="col-sm-8">
                                    <mat-select class='select-option form-control' formControlName="clientbtStatus" placeholder="--Search by Status--">
                                        <mat-option [value]=null>Any</mat-option>
                                        <mat-option [value]=true>Active</mat-option>
                                        <mat-option [value]=false>Inactive</mat-option>
                                    </mat-select>
                                </div>
                            </div>

                        </div>
                        <div class="row col-sm-12" style="margin-top:20px">
                            <div class="col-sm-4">
                                <div class="col-sm-4 padtop">Date Range For</div>
                                <div class="col-sm-8">
                                    <mat-select class='select-option form-control' placeholder="--Select Date Type--" formControlName="clientDateType" (selectionChange)="changedatetype($event.value)">
                                        <mat-option [value]="1">Created Date</mat-option>
                                        <mat-option [value]="2">Last Activity Date</mat-option>
                                    </mat-select>
                                </div>

                            </div>
                            <div class="col-sm-4">
                                <div class="col-sm-4 padtop">From Date</div>
                                <div class="col-sm-8">
                                    <input type="text" placeholder="Select From Date" class="form-control" bsDatepicker placement="bottom" [bsConfig]="{containerClass: 'theme-dark-blue',dateInputFormat: 'YYYY-MM-DD'  }"  formControlName="fromDate">

                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="col-sm-4 padtop">To Date</div>
                                <div class="col-sm-8">
                                    <input type="text" placeholder="Select To Date" class="form-control" bsDatepicker placement="bottom" [bsConfig]="{containerClass: 'theme-dark-blue',dateInputFormat: 'YYYY-MM-DD'  }"  formControlName="toDate">

                                </div>
                            </div>

                        </div>
                        <div class="row col-sm-12" style="margin-top:20px">
                            <div class="col-sm-4">
                                <div class="col-sm-4 padtop">Keyword</div>
                                <div class="col-sm-8">
                                    <input class="form-control" placeholder="Enter keyword" type="text"  formControlName="keyword">
                                </div>

                            </div>
                            <div class="col-sm-4">
                                <div class="col-sm-4 padtop">Flagged</div>
                                <div class="col-sm-8">
                                    <mat-checkbox color="warn" formControlName="clientbtFlag"></mat-checkbox>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <a (click)="filterToggle = !filterToggle" class="pull-right" style="font-size: 25px;">
                                    <i class="fa fa-angle-double-up" aria-hidden="true"></i>
                                </a>

                                <button mat-raised-button class="pull-right" style="margin-left: 10px;margin-right: 8px;" (click)="ResetClients()">
                                    <mat-icon>settings_backup_restore</mat-icon> Reset
                                </button>
                                <!-- <button mat-raised-button class="pull-right add-hover btn-success">
                                    <mat-icon>cloud_download</mat-icon> Download CSV
                                </button> -->
                                <button mat-raised-button color="primary" class="pull-right filters-hover" type="submit">
                                    <mat-icon>youtube_searched_for</mat-icon> Search
                                </button>
                            </div>

                        </div>

                    </mat-card-content>
                </mat-card>
            </div>
        </div>
    </form>
    </div>
</div>



<div fxLayout="column">
    <!-- <div class="flex-p">  -->
        <mat-card>
            
            
            <div class="w-100 h-500p">
                <agm-map #AgmMap [minZoom] = "3" [maxZoom] ="14" [zoom] = "3" [streetViewControl] ="false" [latitude]="lat" [longitude]="lng" [zoomControlOptions] = "zoomControlOptions" [fullscreenControl]="true"> 
                    <agm-marker-cluster [imagePath]="'https://googlemaps.github.io/js-marker-clusterer/images/m'">
                        <agm-marker *ngFor="let pointer of pointers" [latitude]="pointer.lat" [longitude]="pointer.lng" (mouseOver)="onMouseOver(infoWindow,AgmMap)" (mouseOut)="onMouseOut(infoWindow,AgmMap)">
                            <agm-info-window [disableAutoPan]="true"  #infoWindow>
                                <strong>{{pointer.label}}</strong>
                            </agm-info-window>
                        </agm-marker>
                    </agm-marker-cluster>
                </agm-map>             
            </div>
        </mat-card>
   <!--  </div>   -->
</div>