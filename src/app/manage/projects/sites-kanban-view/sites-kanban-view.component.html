<!--This page is used to manage potential customers and their flow-->
<div fxLayout="row wrap" >
  <div class="w-100">
     
    <div class="kanban-table-container col-sm-12 no-padding margin-top-15">
          <div *ngFor="let step of sitesKanbanData" [ngStyle]="step.style">
              <div class="kanban-table" id="{{step.id}}" pDroppable='kanban_items' (onDrop)="drop($event)">
                  <table>
                      <thead>
                          <tr>
                              <th class="kanban-header">{{step.header}}</th>
                          </tr>
                      </thead>
                      <tbody>
                          <tr *ngFor="let item of step.data" id = "{{item.id}}" pDraggable="kanban_items" (onDragStart)="dragStart($event,item, step.id)" (onDragEnd)="dragEnd($event,item)" (onDrag)="drag(item)">
                              <div class="kanban-item" [style.background-color]="item.hex">
                                  <span>
                                      <a class="res-name"  id="resname" target="_blank" routerLink="/IBW/sales/projectdashboard" > {{item.sitename }} </a>&nbsp;&nbsp;
                                  </span>
                                  <span class="change-icon" [matMenuTriggerFor]="menu" #menuTrigger="matMenuTrigger">
                                      <i class="fa fa-circle dot {{item.colorCode}}"></i> 
                                      <i class="fa fa-chevron-circle-down dot dot-arrow {{item.colorCode}}"></i>
                                  </span> <br>
                                  
                                  <mat-menu #menu="matMenu">
                                      <span mat-menu-item class="mat-color-menu"> <i class="fa fa-circle dot-menu Green"></i> &nbsp;&nbsp;Fast</span>
                                      <span mat-menu-item class="mat-color-menu"> <i class="fa fa-circle dot-menu Blue"></i> &nbsp;&nbsp;Moderate</span>
                                      <span mat-menu-item class="mat-color-menu"><i class="fa fa-circle dot-menu" style="color:gray"></i> &nbsp;&nbsp;Slow</span>
                                      <span mat-menu-item class="mat-color-menu"> <i class="fa fa-circle dot-menu Red"></i> &nbsp;&nbsp;Stagnant</span>
                                  </mat-menu>
                                  <span class="cap-name"> {{ item.project }} </span>
                                  
                                  <a *ngIf="userType == 'admin'" style="float:right;color:#149fad" (click)="openNewUpdate(null)"><i class="fa fa-plus" aria-hidden="true"></i></a><br>
                                  <span class="cap-name"> {{ item.clientName }} </span><br>
                                  <span class="lead-name"> {{ item.sow }} </span><br>

                                  <span class="lead-name"> {{ item.tasks }} </span><br>
       
                                  <span class="lead-name"> {{ item.actions }} </span><br>
                                  <span class="lead-name">Due Date: {{ item.duedate }} </span><br><br>
                                  
                                  <a class="info-card" > {{ item.info }} </a>
                                  <a class="percentage-card" style="margin-left: 55px;"> {{ item.percentage }} </a>
                                  <!-- <a style="float:right" title="Convert Prospect to Account" (click)="openConfirmDialog('convert-lead',true,'prospect');"><i class="fa fa-refresh" aria-hidden="true"></i></a> -->
                              </div>
                          </tr>
                      </tbody>
                  </table>
              </div>
          </div>
      </div>
  </div>
</div>
      
